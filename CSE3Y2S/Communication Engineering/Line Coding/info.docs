Line coding algorithm with decoding
